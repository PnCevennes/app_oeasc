<html>
  <head>
    <link rel="stylesheet" href={{ url_for('static', filename='dist/test.css') }}>
  </head>
  <body>
  
    <h1>Test Graphes</h1>

    {% set  graph_definitions = [
      { 'title': 'secteur', 'field_name': 'secteur' },
      { 'title': 'type de forêt', 'field_name': 'type_foret' },
      { 'title': 'organisme', 'field_name': 'organisme_group' },
      { 'title': 'essence objectif principale', 'field_name': 'peuplement_ess_1_mnemo' },
      { 'title': 'essence objectif secondaire', 'field_name': 'peuplement_ess_2_mnemo' },
      { 'title': 'type de peuplement', 'field_name': 'peuplement_type_mnemo' },
      { 'title': 'maturité du peuplement', 'field_name': 'peuplement_maturite_mnemo' },
      { 'title': 'type de pâturage', 'field_name': 'peuplement_paturage_type_mnemo' },
      { 'title': 'type de dégât', 'field_name': 'degat_types_mnemo' },
    ] -%}


    {% set  graph_definitions = [
      { 'title': 'type de dégât', 'field_name': 'degat_types_mnemo' },
      { 'title': 'type de pâturage', 'field_name': 'peuplement_paturage_type_mnemo' },
      { 'title': 'maturité du peuplement', 'field_name': 'peuplement_maturite_mnemo' },
    ] -%}

    {% for gd in graph_definitions %}

    <h2>{{ gd.title | upper }}</h2>

      <div class="flex-container">  
        <div 
        id="{{ "nb_declaration_" + gd.field_name + "_bar" }}"
        class='chart-graph'
        type='bar'
        view="{{ 'oeasc_declarations.v_nb_declaration_' + gd.field_name }}"
        title="{{ 'Nombre de déclarations par ' + gd.title }}"
        >
      </div>
      <div 
        id="{{ "nb_declaration_" + gd.field_name + "_pie" }}"
        class='chart-graph'
        type='pie'
        view="{{ 'oeasc_declarations.v_nb_declaration_' + gd.field_name }}"
        title="{{ 'Nombre de déclarations par ' + gd.title }}"
      >
      </div>
      <div 
        id={{ "nb_declaration_" + gd.field_name + "_time" }}
        class='chart-graph'
        type='bar'
        util='time'
        stacked='true'
        view="{{ 'oeasc_declarations.v_timeline_declaration_' + gd.field_name }}"
        title="{{ 'Nombre de déclarations au cours des mois et par ' + gd.title }}"
      >
      </div>
    </div>
    {% endfor %}
{#
    <h2>Secteurs</h2>

    <div class="flex-container">  
      <div 
      id="nb_declaration_secteur_bar"
      class='chart-graph'
      type='bar'
      view='oeasc_declarations.v_nb_declaration_secteur'
      title='Nombre de déclarations par secteur'
      >
    </div>
    <div 
      id="nb_declaration_secteur_pie"
      class='chart-graph'
      type='pie'
      view='oeasc_declarations.v_nb_declaration_secteur'
      title='Nombre de déclarations par secteur'
    >
    </div>
    <div 
      id="timeline_declaration_secteur"
      class='chart-graph'
      type='bar'
      util='time'
      stacked='true'
      view='oeasc_declarations.v_timeline_declaration_secteur'
      title='Nombre de déclarations au cours des mois et par secteur'
    >
    </div>
  </div>

  <h2>Organismes</h2>

  <div class="flex-container">  
    <div 
    id="nb_declaration_organisme_bar"
    class='chart-graph'
    type='bar'
    view='oeasc_declarations.v_nb_declaration_organisme'
    title='Nombre de déclarations par organisme'
    >
  </div>
  <div 
    id="nb_declaration_organisme_pie"
    class='chart-graph'
    type='pie'
    view='oeasc_declarations.v_nb_declaration_organisme'
    title='Nombre de déclarations par organisme'
  >
  </div>
  <div 
    id="timeline_declaration_organisme"
    class='chart-graph'
    type='bar'
    util='time'
    stacked='true'
    view='oeasc_declarations.v_timeline_declaration_organisme'
    title='Nombre de déclarations au cours des mois et par organisme'
  >
  </div>
</div>

<h2>Type de forêt</h2>

  <div class="flex-container">  
    <div 
    id="nb_declaration_type_foret_bar"
    class='chart-graph'
    type='bar'
    view='oeasc_declarations.v_nb_declaration_type_foret'
    title='Nombre de déclarations par type de forêt'
    >
  </div>
  <div 
    id="nb_declaration_type_foret_pie"
    class='chart-graph'
    type='pie'
    view='oeasc_declarations.v_nb_declaration_type_foret'
    title='Nombre de déclarations par type de forêt'
  >
  </div>
  <div 
    id="timeline_declaration_type_foret"
    class='chart-graph'
    type='bar'
    util='time'
    stacked='true'
    view='oeasc_declarations.v_timeline_declaration_type_foret'
    title='Nombre de déclarations au cours des mois et par type de forêt'
  >
  </div>
</div>
  #}

{#
  <h2>Secteurs</h2>
  
  <div class="flex-container">  
    <div 
    id="nb_declaration_secteur_bar"
    class='chart-graph'
    type='bar'
    view='oeasc_declarations.v_nb_declaration_secteur'
    title='Nombre de déclarations par secteurs'
    >
  </div>
  <div 
  id="nb_declaration_secteur_pie"
  class='chart-graph'
  type='pie'
  view='oeasc_declarations.v_nb_declaration_secteur'
  title='Nombre de déclarations par secteur'
  >
</div>
</div>

<h2>Organismes</h2>

<div class="flex-container">  
  <div 
  id="nb_declaration_organisme_bar"
  class='chart-graph'
  type='bar'
  view='oeasc_declarations.v_nb_declaration_organisme'
  title='Nombre de déclarations par organisme'
  >
</div>
<div 
id="nb_declaration_organisme_pie"
class='chart-graph'
type='pie'
data-name='nb_declaration_organisme'
view='oeasc_declarations.v_nb_declaration_organisme'
title='Nombre de déclarations par organismes'
>
</div>
</div>


#}
<script src={{ url_for('static', filename='dist/test.js') }} ></script>
</body>
</html>
